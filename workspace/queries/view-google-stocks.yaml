name: view-google-stocks
query: |
  CREATE VIEW IF NOT EXISTS
    dev.finance.slv_star_google_stock_prices 
  AS 
    SELECT
      * 
    FROM 
      dev.finance.slv_star_stock_prices 
    WHERE
      symbol = 'GOOGL'
warehouse_id: ${var.sql_tasks_warehouse_id}
parent: "folders/2479128258235176"  # TODO: Get value from workspace conf
run_as_role: viewer
permissions:
  - group_name: account users
    permission_level: CAN_VIEW
  - group_name: role-engineers
    permission_level: CAN_RUN